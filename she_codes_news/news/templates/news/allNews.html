{% extends "base.html" %}  
{% load static %} 
{% block stylesheets %}
<link rel="stylesheet" type="text/css" href="{% static 'news/styles.css' %}">
{% endblock %}

{% block content %}

    {% if messages %}
    {% for message in messages %}
    <div class="text-center alert alert-{{ message.tags }}" id="sucess-msg">
        {{ message|safe }}
    {% endfor %}
    {% endif %}
    </div>

    {% if request.user.is_authenticated %}
    <a href="{% url 'news:newStory' %}">
    <button> Write a News Story</button>
    </a>
    {% else %}
    <a href="{% url 'login' %}">
        <button> Please Login to create a Story</button>
    </a>
    {% endif %}
   
   <h2>All News Stories</h2>

   <div class="homepageFilters">
    <h2>Sort by publish date:</h2>
        <a href="{% url 'news:allNews' %}?sort=fish">
    
        <button>Descending</button>
        </a>
    
        <a href="{% url 'news:allNews' %}?sort=dog">
        <button>Asending </button>
        </a>
    

    <div>
        <h2>Filter All News Stories</h3>
        <div>   
        <h3>By Category</h3>
        {% for category in category_filter %}
            <a href="{% url 'news:search' %}?category={{ category.name }}">
            <button>{{category.name}}</button>
            </a>
        {% endfor %}

        <h3>By Author</h3>
        {% for author in author_filter %}
            <a href="{% url 'news:search' %}?author={{ author.username }}">
            <button>{{author.username}}</button>
            </a>
        
        {% endfor %}
        </div> 
    </div>

    <div id="all-stories">
        {% if all_stories %}
            {% for story in all_stories %}
                {% include "./storyCard.html" with story=story %}
            {% endfor %}
        {% else %}
            <p>No stories are available.</p>
        {% endif %}
    </div>

    {% endblock %}